# List of executables (prefix only)
EXEC := detection_near_ast detection_near_ast_cand save_detection \
        db_test sky_patch_test detection_near_ast_test detection_near_elt_test \
        rebound_example

# Miscellanoues utilities
utils.o: utils.hpp utils.cpp

# Astronomy utilities
astro_utils.o: astro_utils.hpp astro_utils.cpp

# Database utilities
db_utils.o: db_utils.hpp db_utils.cpp

# Timing utilites
Timer.o: Timer.hpp Timer.cpp

# Splined state vectors - BodyVector class
BodyVector.o: BodyVector.hpp BodyVector.cpp

# Orbital Elements and related classes
OrbitalElement.o: OrbitalElement.hpp OrbitalElement.cpp

# SkyPatch and related classes
CubeFace.o: CubeFace.hpp CubeFace.cpp
SkyPatch.o: SkyPatch.hpp SkyPatch.cpp
SkyPatchNeighbor.o: SkyPatchNeighbor.hpp SkyPatchNeighbor.cpp

# Detections and related classes
DetectionTime.o: DetectionTime.hpp DetectionTime.cpp
Detection.o: Detection.hpp Detection.cpp
DetectionCandidate.o: DetectionCandidate.hpp DetectionCandidate.cpp

# AsteroidSkyPatch and related classes
AsteroidSkyPatch.o: AsteroidSkyPatch.hpp AsteroidSkyPatch.cpp

# CandidateElement
CandidateElement.o: CandidateElement.hpp CandidateElement.cpp

# Object files for executables
detection_near_ast.o: detection_near_ast.cpp
save_detection.o: save_detection.cpp
db_test.o: db_test.cpp
sky_patch_test.o: sky_patch_test.cpp
detection_near_ast_test.o: detection_near_ast.cpp
detection_near_elt_test.o: detection_near_elt_test.cpp
rebound_example.o: rebound_example.cpp

# Executables
detection_near_ast: \
    obj/detection_near_ast.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o \
    obj/BodyVector.o obj/OrbitalElement.o obj/AsteroidElement.o \
    obj/Detection.o obj/AsteroidSkyPatch.o

detection_near_ast_cand: \
    obj/detection_near_ast_cand.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o \
    obj/DetectionCandidate.o obj/AsteroidSkyPatch.o

save_detection: \
    obj/save_detection.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/DetectionTime.o obj/Detection.o obj/DetectionCandidate.o 

db_test: \
    obj/db_test.o obj/db_utils.o

sky_patch_test: \
    obj/sky_patch_test.o \
    obj/utils.o obj/astro_utils.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o

detection_near_ast_test: \
    obj/detection_near_ast_test.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o \
    obj/BodyVector.o obj/OrbitalElement.o obj/AsteroidElement.o \
    obj/Detection.o obj/AsteroidSkyPatch.o

detection_near_elt_test: \
    obj/detection_near_elt_test.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o \
    obj/DetectionTime.o obj/Detection.o \
    obj/OrbitalElement.o obj/CandidateElement.o

rebound_example: \
    obj/rebound_example.o
