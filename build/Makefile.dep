# *************************************************************************************************
# Executable console programs (prefix only)
EXEC_CONSOLE := \
    detection_near_ast detection_near_ast_cand save_db2disk \

# Executable test programs and examples (prefix only)
EXEC_TEST := \
    db_test sky_patch_test detection_test rebound_test planet_element_test \
    detection_near_ast_test detection_near_elt_test test_all \
    rebound_example

# Combined list of executables
EXEC := $(EXEC_CONSOLE) $(EXEC_TEST)

# *************************************************************************************************
# Miscellanoues utilities
utils.o: utils.hpp utils.cpp

# Astronomy utilities
astro_utils.o: astro_utils.hpp astro_utils.cpp

# Database utilities
db_utils.o: db_utils.hpp db_utils.cpp

# Timing utilites
Timer.o: Timer.hpp Timer.cpp

# Miscellaneous small data classes
MassiveBody.o: MassiveBody.hpp MassiveBody.cpp

# Orbital Elements and state vectors
OrbitalElement.o: OrbitalElement.hpp OrbitalElement.cpp

# Splined orbital elements for one body or a collection
BodyVector.o: BodyVector.hpp BodyVector.cpp
PlanetElement.o: PlanetElement.hpp PlanetElement.cpp
AsteroidElement.o: AsteroidElement.hpp AsteroidElement.cpp

# SkyPatch and related classes
CubeFace.o: CubeFace.hpp CubeFace.cpp
SkyPatch.o: SkyPatch.hpp SkyPatch.cpp
SkyPatchNeighbor.o: SkyPatchNeighbor.hpp SkyPatchNeighbor.cpp

# Detections and related classes
DetectionTime.o: DetectionTime.hpp DetectionTime.cpp
Detection.o: Detection.hpp Detection.cpp
DetectionCandidate.o: DetectionCandidate.hpp DetectionCandidate.cpp

# AsteroidSkyPatch and related classes
AsteroidSkyPatch.o: AsteroidSkyPatch.hpp AsteroidSkyPatch.cpp

# CandidateElement
CandidateElement.o: CandidateElement.hpp CandidateElement.cpp

# *************************************************************************************************
# Object files for executables
save_detection.o: save_detection.cpp
detection_near_ast_candidate.o: detection_near_ast_candidate.cpp
detection_near_ast.o: detection_near_ast.cpp
db_test.o: db_test.cpp
sky_patch_test.o: sky_patch_test.cpp
detection_test.o: detection_test.cpp
planet_element_test.o: planet_element_test.cpp
detection_near_ast_test.o: detection_near_ast.cpp
detection_near_elt_test.o: detection_near_elt_test.cpp
rebound_example.o: rebound_example.cpp

# *************************************************************************************************
# Executables - batch programs
detection_near_ast: \
    obj/detection_near_ast.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o \
    obj/BodyVector.o obj/OrbitalElement.o obj/AsteroidElement.o \
    obj/Detection.o obj/AsteroidSkyPatch.o

detection_near_ast_cand: \
    obj/detection_near_ast_cand.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o \
    obj/DetectionCandidate.o obj/AsteroidSkyPatch.o

save_db2disk: \
    obj/save_db2disk.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/MassiveBody.o \
    obj/DetectionTime.o obj/Detection.o obj/DetectionCandidate.o \
    obj/OrbitalElement.o obj/BodyVector.o \
    obj/PlanetElement.o

# *************************************************************************************************
# Executables - tests
db_test: \
    obj/db_test.o obj/db_utils.o

sky_patch_test: \
    obj/sky_patch_test.o \
    obj/utils.o obj/astro_utils.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o

detection_test: \
    obj/detection_test.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/DetectionTime.o obj/Detection.o obj/DetectionCandidate.o 

detection_near_ast_test: \
    obj/detection_near_ast_test.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o obj/SkyPatchNeighbor.o \
    obj/BodyVector.o obj/OrbitalElement.o obj/AsteroidElement.o \
    obj/Detection.o obj/AsteroidSkyPatch.o

rebound_test: \
    obj/rebound_test.o \
    obj/utils.o obj/db_utils.o \
    obj/MassiveBody.o

planet_element_test: \
    obj/planet_element_test.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/OrbitalElement.o obj/DetectionTime.o obj/Detection.o \
    obj/BodyVector.o obj/PlanetElement.o

detection_near_elt_test: \
    obj/detection_near_elt_test.o \
    obj/utils.o obj/db_utils.o obj/Timer.o \
    obj/CubeFace.o obj/SkyPatch.o \
    obj/DetectionTime.o obj/Detection.o \
    obj/OrbitalElement.o obj/MassiveBody.o \
    obj/BodyVector.o obj/PlanetElement.o \
    obj/CandidateElement.o

test_all: \
    obj/test_all.o obj/utils.o

# *************************************************************************************************
# Executables - example programs for libraries
rebound_example: \
    obj/rebound_example.o
